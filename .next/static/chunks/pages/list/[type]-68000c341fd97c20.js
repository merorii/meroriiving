(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[306],{9956:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/list/[type]",function(){return n(6056)}])},3140:function(t,e,n){"use strict";n.d(e,{It:function(){return r},qF:function(){return c}});var a=n(8945);let r=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{data:n}=await a.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat("30d18357fffa4ad0a9ba91c89e3b5679","&language=KO&page=").concat(e));return n},c=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{data:n}=await a.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("30d18357fffa4ad0a9ba91c89e3b5679","&language=KO&query=").concat(t,"&page=").concat(e||1));return n}},6536:function(t,e,n){"use strict";n.d(e,{F:function(){return r},S:function(){return u}});var a=n(8767);let r=(t,e)=>{let{data:n,fetchNextPage:r,hasNextPage:c=!0}=(0,a.useInfiniteQuery)(["searchDatas"],async n=>{let{pageParam:a}=n,r=await t(e,a||1);return{data:r.results,total:r.total_pages,page:r.page}},{getNextPageParam:t=>{if(t.total>t.page)return t.page+1},refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return{data:n,fetchNextPage:r,hasNextPage:c}};var c=n(7294);function u(t){let{target:e,onIntersect:n,root:a=null,rootMargin:r="0px",threshold:u=1}=t;(0,c.useEffect)(()=>{let t;return e&&e.current&&(t=new IntersectionObserver(n,{root:a,rootMargin:r,threshold:u})).observe(e.current),()=>t&&t.disconnect()},[e,r,u,n,a])}},6056:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSP:function(){return l}});var a=n(5893),r=n(7294),c=n(699),u=n(6536),i=n(3140),s=n(4970);let o=t=>{let{result:e,params:n}=t,{data:o,fetchNextPage:l}=(0,u.F)(i.It,n.type),f=(0,r.useRef)(null),d=t=>{let[e]=t;return e.isIntersecting&&l()};return(0,u.S)({target:f,onIntersect:d}),(0,a.jsx)(c.Zn,{children:(0,a.jsxs)("section",{className:"search-section",children:[(0,a.jsxs)("p",{children:[(0,s.B7)(n.type)," 영화 검색결과(",e.total_results,"개)"]}),(0,a.jsx)(c.CS,{data:(null==o?void 0:o.pages.map(t=>t.data).flat())||[]}),(0,a.jsx)("div",{ref:f})]})})};var l=!0;e.default=o}},function(t){t.O(0,[791,945,699,774,888,179],function(){return t(t.s=9956)}),_N_E=t.O()}]);